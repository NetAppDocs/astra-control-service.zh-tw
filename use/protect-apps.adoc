---
sidebar: sidebar 
permalink: use/protect-apps.html 
keywords: backup, back up, backup apps, back up apps, snapshots, snapshot an app, take a snapshot, take a backup, view backups, view snapshots, set policy, set schedule, schedule backups, schedule snapshots 
summary: 使用自動保護原則或臨機操作、拍攝快照和備份資料、保護您的應用程式。 
---
= 利用快照與備份來保護應用程式
:hardbreaks:
:allow-uri-read: 
:icons: font
:imagesdir: ../media/use/


使用自動保護原則或臨機操作、拍攝快照和備份資料、保護您的應用程式。您可以使用Astra UI或 https://docs.netapp.com/us-en/astra-automation/index.html["Astra Control API"^] 保護應用程式。



== 快照與備份

_snapshot是應用程式的時間點複本、儲存在與應用程式相同的已配置磁碟區上。通常速度很快。本機快照可用來將應用程式還原至較早的時間點。

備份_儲存在雲端的物件儲存設備上。相較於本機快照、備份速度可能較慢。但可在雲端跨區域存取、以進行應用程式移轉。您也可以選擇較長的備份保留期間。


CAUTION: _您必須等到最近進行備份之後、才能獲得完整保護_。這很重要、因為備份儲存在遠離持續磁碟區的物件存放區中。如果故障或意外損壞叢集及其持續儲存設備、則需要備份才能恢復。快照無法讓您恢復。


NOTE: 如果您執行快照或備份、但作業失敗並顯示錯誤「由於內部伺服器問題而未建立資源」、請檢查以確定您使用的儲存後端已安裝正確的驅動程式。有些儲存後端需要Container Storage Interface（SCSI）驅動程式、有些則需要外部快照控制器。

您可以執行下列與保護應用程式資料相關的工作：

* <<Configure a protection policy>>
* <<Create a snapshot>>
* <<Create a backup>>
* <<View snapshots and backups>>
* <<Delete snapshots>>
* <<Cancel backups>>
* <<Delete backups>>




== 設定保護原則

保護原則可在已定義的排程中建立快照、備份或兩者、以保護應用程式。您可以選擇每小時、每天、每週和每月建立快照和備份、也可以指定要保留的複本數量。如果您需要每小時執行一次以上的備份或快照、您可以 https://docs.netapp.com/us-en/astra-automation/workflows/workflows_before.html["使用Astra Control REST API建立快照與備份"^]。

.步驟
. 選取*應用程式*、然後選取託管應用程式的名稱。
. 選擇*資料保護*。
. 選取*設定保護原則*。
. 選擇每小時、每日、每週和每月排程所需保留的快照和備份數量、以定義保護排程。
+
您可以同時定義每小時、每日、每週及每月排程。在您設定快照和備份的保留層級之前、排程不會變成作用中。

+
當您設定備份的保留層級時、可以選擇要儲存備份的儲存區。

+
下列範例設定四種保護排程：每小時、每日、每週及每月提供快照與備份。

+
image:screenshot-protection-policy.png["範例組態原則的螢幕擷取畫面、您可以選擇每小時、每天、每週或每月拍攝快照和備份。"]

. 選擇* Review *。
. 選擇*設定*。
+
以下是每個步驟的影片。

+
video::video-set-protection-policy.mp4[width=848,height=480]


Astra Control會使用您定義的排程和保留原則來建立和保留快照和備份、以實作資料保護原則。



== 建立快照

您可以隨時建立隨需快照。

.步驟
. 選擇*應用程式*。
. 選取所需應用程式*「Actions」（動作）*欄中的下拉式清單。
. 選擇* Snapshot *。
. 自訂快照名稱、然後選取*檢閱資訊*。
. 檢閱快照摘要、然後選取* Snapshot App*。


Astra Control會建立應用程式的快照。



== 建立備份

您也可以隨時備份應用程式。

.步驟
. 選擇*應用程式*。
. 選取所需應用程式*「Actions」（動作）*欄中的下拉式清單。
. 選擇*備份*。
. 自訂備份名稱、選擇是否要從現有的快照備份應用程式、然後選取*檢閱資訊*。
. 檢閱備份摘要、然後選取*備份應用程式*。


Astra Control會建立應用程式的備份。



== 檢視快照與備份

您可以從「資料保護」索引標籤檢視應用程式的快照與備份。

.步驟
. 選取*應用程式*、然後選取託管應用程式的名稱。
. 選擇*資料保護*。
+
快照預設會顯示。

. 選取*備份*以查看備份清單。




== 刪除快照

刪除不再需要的排程或隨需快照。

.步驟
. 選取*應用程式*、然後選取託管應用程式的名稱。
. 選擇*資料保護*。
. 在* Actions（操作）*列中選擇所需快照的下拉列表。
. 選擇*刪除snapshot *。
. 輸入快照名稱以確認刪除、然後選取*是、刪除快照*。


Astra Control會刪除快照。



== 取消備份

您可以取消進行中的備份。


TIP: 若要取消備份、備份必須處於執行中狀態。您無法取消處於「擱置中」狀態的備份。

.步驟
. 選取*應用程式*、然後選取應用程式名稱。
. 選擇*資料保護*。
. 選擇*備份*。
. 在所需備份*「Actions」（動作）*欄的「Options」（選項）功能表中、選取*「Cancel*」（取消*）。
. 輸入「cancel」一詞以確認刪除、然後選擇「* Yes、cancel backup*（是、取消備份*）」。




== 刪除備份

刪除不再需要的排程或隨需備份。

. 選取*應用程式*、然後選取託管應用程式的名稱。
. 選擇*資料保護*。
. 選擇*備份*。
. 在* Actions（操作）*列中選擇下拉列表以進行所需的備份。
. 選擇*刪除備份*。
. 輸入備份名稱以確認刪除、然後選擇*是、刪除備份*。


Astra Control會刪除備份。
